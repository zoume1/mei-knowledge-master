---
title: nodejs的基础
date: 2025-03-12 15:17:10
permalink: /pages/ac07eb/
categories:
  - nodeJs
tags:
    -
---
最近看了好多招聘，都需要node.js的基础了  然后我也有点兴趣，那么我们就学起来吧！！！

## node.js的优点

1. 运行在V8JavaScript引擎上（高性能） ？ 为什么运行在这里就高性能呢，我要去查一下.....
2. 事件驱动
3. 非阻塞的IO模型
4. 丰富的生态圈（npm下载资源）

## 运行起来

1. 新建一个index.js的文件
2. node index.js  运行文件

## 事件(事件要主动触发)

```
var event = require('events')
var myEmitter = new event.EventEmitter()
myEmitter.on('someEvent',function(message){
   console.log(message)
})
```

### 事件继承

1. 以前的方法（不推荐）

```
var util= require('util')
var Person = function(name){
     this.name = name
}
// util.inherits(需要继承的类，继承的类)
util.inherits(Person,event.EventEmitter)

```

2.es6的方法

```
var EventEmitter= require('events')
Class Person extents EventEmitter{
    construtor(name){
       this.name = name
    }
}
```

## 文件的读写

```
var fs = require('fs')
// 读文件
var readMe = fs.readFileSync("文件路径"，'文件格式（utf8）')
// 写文件
var readMe = fs.writeFileSync("文件路径"，'写入的内容')
```

注意文件的操作是还耗时的  所以我们一般会使用异步的操作

```
var fs = require('fs')
// 读文件
var readMe = fs.readFile("文件路径"，'文件格式（utf8）',function(err,data){
   console.log(data)
    fs.writeFileSync("文件路径"，data, function(err,data){
   }
})
console.log('hahhah')
// 控制台显示  hahhah  然后readMe中打印的
```

## 流和管道

### 流操作

```
var fs = require('fs')
_dirname 当前目录下
var myReadStream = fs.createReadStream(_dirname+'文件地址','格式')
// 读取数据  但是有可能还没读取成功
var data = ''
myReadStream.on('data',function(chunk){
   data+ = chunk
})
// 读取成功
myReadStream.on('end',function(){
    console.log(data) 
})
// 写入流
var myWriteStrea =  fs.createWriteStream(_dirname+'文件地址')
myWriteStrea.end()
myWriteStrea.on("finish",()=>{
  console.log("写入完成")
})


```



### 管道操作

```
var myReadStream = fs.createReadStream(_dirname+'文件地址','格式')
var myWriteStream = fs.createWriteStream(_dirname+'文件地址','格式')
myReadStream.pipe(myWriteStream)
```

## 压缩和解压


```
const zlib = require('zlib');

```

## 构建web服务器输出内容

```
var http = require("http")
var server = http.createServer(function(req,res){
    console.log(req,res)
     res.writeHead(200,{
          // 纯文本
        // "Content-Type":"text/plain"
         // json格式
         "Content-Type":"application/json"
     })
      var obj = {
        name:'12122'
       }
     res.end(obj)
})
页面可以通过jsonvue渲染

server.listen(3000,"127.0.0.1")
```
